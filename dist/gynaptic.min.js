/*!
 * The MIT License (MIT)
 * 
 * Copyright 2017 Thomas Wagenaar
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE
 * 
 */
!function(t){function n(i){if(o[i])return o[i].exports;var e=o[i]={i:i,l:!1,exports:{}};return t[i].call(e.exports,e,e.exports,n),e.l=!0,e.exports}var o={};n.m=t,n.c=o,n.i=function(t){return t},n.d=function(t,o,i){n.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(o,"a",o),o},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=8)}([function(t,n){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,n,o){var i,e,s={Activation:o(4),Mutation:o(7)};i=[],void 0!==(e=function(){return s}.apply(n,i))&&(t.exports=e),void 0!==t&&t.exports&&(t.exports=s),"object"==typeof window&&(!function(){var t=window.methods;s.ninja=function(){return window.methods=t,s}}(),window.methods=s)},function(t,n,o){(function(t){function n(t){this.bias="input"==t?0:.2*Math.random()-.1,this.squash=e.LOGISTIC,this.type=t||"hidden",this.activation=0,this.connections={in:[],out:[]},this.error={responsibility:0,projected:0,gated:0},this.trace={elegibility:{},extended:{},influences:{}}}t&&(t.exports=n);var i=o(1),e=i.Activation,s=i.Mutation;n.prototype={activate:function(t){if("input"==this.type)return this.activation=t,this.activation;this.state=this.bias;for(n in this.connections.in)this.state+=this.connections.in[n].from.activation*this.connections.in[n].weight;this.activation=this.squash(this.state),this.derivative=this.squash(this.state,!0);for(var n in this.connections.in){var t=this.connections.in[n];this.trace.elegibility[n]=t.from.activation}return this.activation},propagate:function(t,n){var o=0;if("output"==this.type)this.error.responsibility=this.error.projected=n-this.activation;else{for(var i in this.connections.out){var i=this.connections.out[i];o+=i.to.error.responsibility*i.weight}this.error.projected=this.derivative*o,this.error.responsibility=this.error.projected}t=t||.1;for(var i in this.connections.in){var e=this.connections.in[i],s=this.error.projected*this.trace.elegibility[i];e.weight+=t*s}this.bias+=t*this.error.responsibility},mutate:function(t){if(void 0===t)throw new Error("No mutate method given");switch(t){case s.MOD_ACTIVATION:for(var n=Math.floor(Math.random()*s.MOD_ACTIVATION.config.allowed.length);s.MOD_ACTIVATION.config.allowed[n]==this.squash;)n=Math.floor(Math.random()*s.MOD_ACTIVATION.config.allowed.length);this.squash=s.MOD_ACTIVATION.config.allowed[n]}}}}).call(n,o(0)(t))},function(t,n,o){(function(t){function n(t,n){if(void 0===t||void 0===n)throw new Error("No input or output size given");this.input=t,this.output=n,this.nodes=[],this.connections=[];for(var o=0;o<this.input+this.output;o++){var e=o<this.input?"input":"output";this.nodes.push(new i(e))}for(var o=0;o<this.input;o++)for(var s=this.input;s<this.output+this.input;s++)this.connect(this.nodes[o],this.nodes[s])}t&&(t.exports=n);var i=o(2),e=o(6),s=o(1),r=s.Activation,c=s.Mutation;n.prototype={activate:function(t){var n=[];for(node in this.nodes)switch(this.nodes[node].type){case"input":this.nodes[node].activate(t[node]);break;case"hidden":this.nodes[node].activate();break;case"output":var o=this.nodes[node].activate();n.push(o)}return n},propagate:function(t,n){this.nodes.reverse();for(node in this.nodes)switch(this.nodes[node].type){case"hidden":this.nodes[node].propagate(t);break;case"output":this.nodes[node].propagate(t,n[node])}this.nodes.reverse()},connect:function(t,n){var o=new e(t,n);return this.connections.push(o),o.to.connections.in.push(o),o.from.connections.out.push(o),o},disconnect:function(t,n){for(conn in this.connections)if(this.connections[conn].from==t&&this.connections[conn].to==n){this.connections.splice(conn,1);break}for(conn in n.connections.in)if(n.connections.in[conn].from==t){n.connections.in.splice(conn,1);break}for(conn in t.connections.out)if(t.connections.out[conn].to==n){t.connections.out.splice(conn,1);break}},graph:function(){var t=0,n=0,o={nodes:[],links:[],constraints:[{type:"alignment",axis:"x",offsets:[]},{type:"alignment",axis:"y",offsets:[]}]};for(index in this.nodes){var i=this.nodes[index],e="input"==i.type?0:"output"==i.type?1:i.squash==r.LOGISTIC?2:i.squash==r.TANH?3:i.squash==r.IDENTITY?4:i.squash==r.HLIM?5:i.squash==r.RELU?6:i.squash==r.SOFTSIGN?7:i.squash==r.SINUSOID?8:i.squash==r.GAUSSIAN?9:null;0==e?(o.constraints[0].offsets.push({node:index,offset:600/this.input*t}),o.constraints[1].offsets.push({node:index,offset:0}),t++):1==e&&(o.constraints[0].offsets.push({node:index,offset:600/this.output*n}),o.constraints[1].offsets.push({node:index,offset:-200}),n++),o.nodes.push({id:index,type:e})}for(connection in this.connections)connection=this.connections[connection],o.links.push({source:this.nodes.indexOf(connection.from),target:this.nodes.indexOf(connection.to),weight:connection.weight});return o},mutate:function(t){if(void 0===t)throw new Error("No mutate method given");switch(t){case c.ADD_NODE:var n=this.connections[Math.floor(Math.random()*this.connections.length)];this.disconnect(n.from,n.to);var o=this.nodes.indexOf(n.to),e=new i;e.mutate(c.MOD_ACTIVATION);var s=Math.min(o,this.nodes.length-this.output);this.nodes.splice(s,0,e),this.connect(n.from,e),this.connect(e,n.to);break;case c.ADD_CONN:for(var r=0,a=0;a<this.nodes.length;a++)"input"==this.nodes[a].type?r+=this.nodes.length-this.input:"hidden"==this.nodes[a].type&&(r+=this.nodes.length-(a+1));if(r==this.connections.length)throw new Error("Maximum amount of connections reached!");for(var h=!0;h;){h=!1;var u=Math.floor(Math.random()*(this.nodes.length-this.output)),f=this.nodes[u],s=Math.max(u+1,this.input),d=this.nodes[Math.floor(Math.random()*(this.nodes.length-s)+s)];for(conn in this.connections)if(this.connections[conn].from==f&&this.connections[conn].to==d){h=!0;break}}this.connect(f,d);break;case c.MOD_WEIGHT:var n=this.connections[Math.floor(Math.random()*this.connections.length)],p=Math.random()*(c.MOD_WEIGHT.config.max-c.MOD_WEIGHT.config.min)+c.MOD_WEIGHT.config.min;n.weight+=p;break;case c.MOD_BIAS:var l=Math.floor(Math.random()*(this.nodes.length-this.input)+this.input),e=this.nodes[l],p=Math.random()*(c.MOD_BIAS.config.max-c.MOD_BIAS.config.min)+c.MOD_BIAS.config.min;e.bias+=p}}}}).call(n,o(0)(t))},function(t,n,o){(function(t){var n={LOGISTIC:function(t,o){if(!o)return 1/(1+Math.exp(-t));var i=n.LOGISTIC(t);return i*(1-i)},TANH:function(t,o){return o?1-Math.pow(n.TANH(t),2):Math.tanh(t)},IDENTITY:function(t,n){return n?1:t},HLIM:function(t,n){return n?1:t>0?1:0},RELU:function(t,n){return n?t>0?1:0:t>0?t:0},SOFTSIGN:function(t,n){var o=1+Math.abs(t);return n?t/Math.pow(o,2):t/o},SINUSOID:function(t,n){return n?Math.cos(t):Math.sin(t)},GAUSSIAN:function(t,n){var o=Math.exp(-Math.pow(t,2));return n?-2*t*o:o}};t&&(t.exports=n)}).call(n,o(0)(t))},function(t,n,o){(function(t){function n(){}t&&(t.exports=n);o(2),o(3);n.prototype={}}).call(n,o(0)(t))},function(t,n,o){(function(t){function n(t,o){this.weight=.2*Math.random()-.1,this.from=t,this.to=o,this.ID=n.innovationUID()}t&&(t.exports=n),n.prototype={},function(){var t=0;n.innovationUID=function(){return t++}}()}).call(n,o(0)(t))},function(t,n,o){(function(t){var n=o(4),i={ADD_NODE:{name:"ADD_NODE"},ADD_CONN:{name:"ADD_CONNECTION"},MOD_WEIGHT:{name:"MOD_WEIGHT",config:{min:-1,max:1}},MOD_BIAS:{name:"MOD_BIAS",config:{min:-1,max:1}},MOD_ACTIVATION:{name:"MOD_ACTIVATION",config:{allowed:[n.LOGISTIC,n.TANH,n.RELU,n.IDENTITY,n.HLIM,n.SOFTSIGN,n.SINUSOID,n.GAUSSIAN]}}};t&&(t.exports=i)}).call(n,o(0)(t))},function(t,n,o){var i,e,s={Node:o(2),Neat:o(5),Network:o(3),Methods:o(1)};i=[],void 0!==(e=function(){return s}.apply(n,i))&&(t.exports=e),void 0!==t&&t.exports&&(t.exports=s),"object"==typeof window&&(!function(){var t=window.gynaptic;s.ninja=function(){return window.gynaptic=t,s}}(),window.gynaptic=s)}]);