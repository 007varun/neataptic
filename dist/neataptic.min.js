/*!
 * The MIT License (MIT)
 * 
 * Copyright 2017 Thomas Wagenaar
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE
 * 
 */
!function(n){function t(i){if(o[i])return o[i].exports;var e=o[i]={i:i,l:!1,exports:{}};return n[i].call(e.exports,e,e.exports,t),e.l=!0,e.exports}var o={};t.m=n,t.c=o,t.i=function(n){return n},t.d=function(n,o,i){t.o(n,o)||Object.defineProperty(n,o,{configurable:!1,enumerable:!0,get:i})},t.n=function(n){var o=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(o,"a",o),o},t.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},t.p="",t(t.s=13)}([function(n,t){n.exports=function(n){return n.webpackPolyfill||(n.deprecate=function(){},n.paths=[],n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),n.webpackPolyfill=1),n}},function(n,t,o){var i,e,s={Activation:o(6),Mutation:o(11),Selection:o(12),Crossover:o(10),Cost:o(9)};i=[],void 0!==(e=function(){return s}.apply(t,i))&&(n.exports=e),void 0!==n&&n.exports&&(n.exports=s),"object"==typeof window&&(!function(){var n=window.methods;s.ninja=function(){return window.methods=n,s}}(),window.methods=s)},function(n,t,o){(function(n){function t(n){this.bias="input"==n?0:.2*Math.random()-.1,this.squash=r.LOGISTIC,this.type=n||"hidden",this.activation=0,this.state=0,this.connections={in:[],out:[],self:new e(this,this,0)},this.error={responsibility:0,projected:0},this.trace={}}n&&(n.exports=t);var i=o(1),e=o(3),s=o(4),r=i.Activation,a=i.Mutation;t.prototype={activate:function(n){if(void 0!==n)return this.activation=n,this.derivative=0,this.bias=0,this.activation;this.state=this.connections.self.gain*this.connections.self.weight*this.state+this.bias;for(t in this.connections.in){var t=this.connections.in[t];this.state+=t.from.activation*t.weight*t.gain}this.activation=this.squash(this.state),this.derivative=this.squash(this.state,!0);for(var t in this.connections.in){var t=this.connections.in[t];t.elegibility=this.connections.self.gain*this.connections.self.weight*t.elegibility+t.from.activation*t.gain}return this.activation},propagate:function(n,t){var o=0;if("output"==this.type)this.error.responsibility=this.error.projected=t-this.activation;else{for(var i in this.connections.out){var i=this.connections.out[i];o+=i.to.error.responsibility*i.weight*i.gain}this.error.projected=this.derivative*o,this.error.responsibility=this.error.projected}n=n||.1;for(var i in this.connections.in){var i=this.connections.in[i],e=this.error.projected*i.elegibility;i.weight+=n*e}this.bias+=n*this.error.responsibility},connect:function(n){var o=[];if(n instanceof s)for(var i=0;i<n.nodes.length;i++){var r=new e(this,n.nodes[i]);n.nodes[i].connections.in.push(r),this.connections.out.push(r),n.connections.in.push(r),o.push(r)}else if(n instanceof t)if(n==this)this.connections.self.weight=.2*Math.random()-.1,o.push(this.connections.self);else{var r=new e(this,n);n.connections.in.push(r),this.connections.out.push(r),o.push(r)}return o},disconnect:function(n,t){t=t||!1;for(var o in this.connections.out){var i=this.connections.out[o];if(i.to==n){this.connections.out.splice(o,1);var e=i.to.connections.in.indexOf(i);i.to.connections.in.splice(e,1);break}}t&&n.disconnect(this)},mutate:function(n){if(void 0===n)throw new Error("No mutate method given!");if(!n.name in i.Mutation)throw new Error("This method does not exist!");switch(n){case a.MOD_ACTIVATION:for(var t=Math.floor(Math.random()*a.MOD_ACTIVATION.config.allowed.length);a.MOD_ACTIVATION.config.allowed[t]==this.squash;)t=Math.floor(Math.random()*a.MOD_ACTIVATION.config.allowed.length);this.squash=a.MOD_ACTIVATION.config.allowed[t];break;case a.MOD_BIAS:var o=Math.random()*(a.MOD_BIAS.config.max-a.MOD_BIAS.config.min)+a.MOD_BIAS.config.min;this.bias+=o}},isProjectingTo:function(n){for(conn in this.connections.out)if(conn=this.connections.out[conn],conn.to==n)return!0;return!1},isProjectedBy:function(n){for(conn in this.connections.in)if(conn=this.connections.in[conn],conn.from==n)return!0;return!1},toJSON:function(){return{ID:this.ID,bias:this.bias,type:this.type,squash:this.squash.name,self:this.connections.self.weight}}},t.fromJSON=function(n){var o=new t;o.ID=n.ID,o.bias=n.bias,o.type=n.type,o.connections.self.weight=n.self;for(squash in r)if(r[squash].name==n.squash){o.squash=r[squash];break}return o}}).call(t,o(0)(n))},function(n,t,o){(function(n){function t(n,t,o){this.weight=o||.2*Math.random()-.1,this.from=n,this.to=t,this.gain=1,this.elegibility=0}n&&(n.exports=t),t.prototype={toJSON:function(){return{weight:this.weight}}},t.innovationID=function(n,t){return.5*(n+t)*(n+t+1)+t}}).call(t,o(0)(n))},function(n,t,o){(function(n){function t(n){this.nodes=[],this.connections={in:[],out:[]};for(var t=0;t<n;t++)this.nodes.push(new e)}n&&(n.exports=t);var i=o(1),e=(o(3),o(2));i.Activation,i.Mutation;t.prototype={activate:function(n){var t=[];if(void 0!==n&&n.length!=this.nodes.length)throw new Error("Array with values should be same as the amount of nodes!");for(var o=0;o<this.nodes.length;o++){if(void 0===n)var i=this.nodes[o].activate();else var i=this.nodes[o].activate(n[o]);t.push(i)}return t},propagate:function(n,t){if(void 0!==t&&t.length!=this.nodes.length)throw new Error("Array with values should be same as the amount of nodes!");for(var o=this.nodes.length-1;o>=0;o--)void 0===t?this.nodes[o].propagate(n):this.nodes[o].propagate(n,t[o])},connect:function(n){var o=[];if(n instanceof t)for(var i=0;i<this.nodes.length;i++)for(var s=0;s<n.nodes.length;s++){var o=this.nodes[i].connect(n.nodes[s]);this.connections.out.push(o[0]),n.connections.in.push(o[0]),o.push(o[0])}else if(n instanceof e)for(var i=0;i<this.nodes.length;i++){var o=this.nodes[i].connect(n);this.connections.out.push(o[0]),o.push(o[0])}return o},disconnect:function(n,o){if(o=o||!1,n instanceof t)for(var i=0;i<this.nodes.length;i++)for(var s=0;s<n.nodes.length;s++){this.nodes[i].disconnect(n.nodes[s],o);for(index in this.connections.out){var r=this.connections.out[index];if(r.from==this.nodes[i]&&r.to==n.nodes[s]){this.connections.out.splice(index,1);break}}if(o)for(index in this.connections.in){var r=this.connections.in[index];if(r.from==n.nodes[s]&&r.to==this.nodes[i]){this.connections.in.splice(index,1);break}}}else if(n instanceof e)for(var i=0;i<this.nodes.length;i++){this.nodes[i].disconnect(n,o);for(index in this.connections.out){var r=this.connections.out[index];if(r.from==this.nodes[i]&&r.to==n){this.connections.out.splice(index,1);break}}if(o)for(index in this.connections.in){var r=this.connections.in[index];if(r.from==n&&r.to==this.nodes[i]){this.connections.in.splice(index,1);break}}}}}}).call(t,o(0)(n))},function(n,t,o){(function(n){function t(n,t){if(void 0===n||void 0===t)throw new Error("No input or output size given");this.input=n,this.output=t,this.nodes=[],this.connections=[],this.gates=[];for(var o=0;o<this.input+this.output;o++){var e=o<this.input?"input":"output";this.nodes.push(new i(e,this.nodes.length))}for(var o=0;o<this.input;o++)for(var s=this.input;s<this.output+this.input;s++)this.connect(this.nodes[o],this.nodes[s])}n&&(n.exports=t);var i=o(2),e=o(3),s=o(1),r=s.Activation,a=s.Mutation;t.prototype={activate:function(n){var t=[];for(node in this.nodes)switch(this.nodes[node].type){case"input":this.nodes[node].activate(n[node]);break;case"hidden":this.nodes[node].activate();break;case"output":var o=this.nodes[node].activate();t.push(o)}return t},propagate:function(n,t){this.nodes.reverse();for(node in this.nodes)switch(this.nodes[node].type){case"hidden":this.nodes[node].propagate(n);break;case"output":this.nodes[node].propagate(n,t[node])}this.nodes.reverse()},connect:function(n,t){var o=n.connect(t);for(var i in o)i=o[i],this.connections.push(i);return o},disconnect:function(n,t){for(conn in this.connections)if(this.connections[conn].from==n&&this.connections[conn].to==t){this.connections.splice(conn,1);break}n.disconnect(t)},mutate:function(n){if(void 0===n)throw new Error("No mutate method given!");if(!n.name in s.Mutation)throw new Error("This method does not exist!");switch(n){case a.ADD_NODE:var t=this.connections[Math.floor(Math.random()*this.connections.length)];this.disconnect(t.from,t.to);var o=this.nodes.indexOf(t.to),e=new i("hidden",this.nodes.length);e.mutate(a.MOD_ACTIVATION);var r=Math.min(o,this.nodes.length-this.output);this.nodes.splice(r,0,e),this.connect(t.from,e),this.connect(e,t.to);break;case a.SUB_NODE:if(this.nodes.length==this.input+this.output){a.config.warnings&&console.warn("No more nodes left to remove!");break}for(var c=Math.floor(Math.random()*(this.nodes.length-this.output-this.input)+this.input),e=this.nodes[c],h=[],u=e.connections.in.length-1;u>=0;u--){var f=e.connections.in[u].from;h.push(f),this.disconnect(f,e)}for(var d=[],u=e.connections.out.length-1;u>=0;u--){var p=e.connections.out[u].to;d.push(p),this.disconnect(e,p)}for(var f in h){f=h[f];for(var p in d)p=d[p],f.isProjectingTo(p)||this.connect(f,p)}this.nodes.splice(c,1);break;case a.ADD_CONN:for(var l=0,v=0;v<this.nodes.length;v++)"input"==this.nodes[v].type?l+=this.nodes.length-this.input:"hidden"==this.nodes[v].type&&(l+=this.nodes.length-(v+1));if(l<=this.connections.length){a.config.warnings&&console.warn("Maximum amount of connections reached!");break}for(var g=!0;g;){g=!1;var m=Math.floor(Math.random()*(this.nodes.length-this.output)),O=this.nodes[m],r=Math.max(m+1,this.input),w=this.nodes[Math.floor(Math.random()*(this.nodes.length-r)+r)];for(u in this.connections)if(this.connections[u].from==O&&this.connections[u].to==w){g=!0;break}}this.connect(O,w);break;case a.SUB_CONN:var M=[];for(u in this.connections)u=this.connections[u],u.from.connections.out.length>1&&u.to.connections.in.length>1&&M.push(u);if(0==M.length){a.config.warnings&&console.warn("No connections to remove!");break}var N=M[Math.floor(Math.random()*M.length)];this.disconnect(N.from,N.to);break;case a.MOD_WEIGHT:var t=this.connections[Math.floor(Math.random()*this.connections.length)],I=Math.random()*(a.MOD_WEIGHT.config.max-a.MOD_WEIGHT.config.min)+a.MOD_WEIGHT.config.min;t.weight+=I;break;case a.MOD_BIAS:var c=Math.floor(Math.random()*(this.nodes.length-this.input)+this.input),e=this.nodes[c];e.mutate(a.MOD_BIAS);break;case a.MOD_ACTIVATION:var c=Math.floor(Math.random()*(this.nodes.length-this.input)+this.input),e=this.nodes[c];e.mutate(a.MOD_ACTIVATION)}},train:function(n,t){t=t||{},void 0===t.rate&&console.warn("Using default learning rate, please define a rate!"),void 0===t.iterations&&console.warn("No target iterations given, running until error is reached!");var o=Date.now(),i=t.log||!1,e=t.error||.005,r=t.cost||s.Cost.MSE,a=t.rate||.3,c=t.shuffle||!1,h=t.iterations||0,u=t.crossValidate||!1;if(u)var f=t.crossValidate.testSize,d=t.crossValidate.testError,p=Math.ceil((1-f)*n.length),l=n.slice(0,p),v=n.slice(p);var g=a,m=0;Array.isArray(a)&&(m=Math.floor(h/a.length));for(var O=0,w=1;w>e&&(0==h||O<h)&&!(u&&w<=d);){if(O++,"function"==typeof a&&(g=a(h,w)),w=0,m>0){g=a[Math.floor(h/m)]||g}if(u?(this._trainSet(l,g,r),w+=this.test(v,r).error):(w+=this._trainSet(n,g,r),w/=n.length),c)for(var M,N,I=n.length;I;M=Math.floor(Math.random()*I),N=n[--I],n[I]=n[M],n[M]=N);i&&O%i==0&&console.log("iterations",O,"error",w,"rate",g)}return{error:w,iterations:O,time:Date.now()-o}},_trainSet:function(n,t,o){var i=0;for(var e in n){var s=n[e].input,r=n[e].output,a=this.activate(s);this.propagate(t,r),i+=o(r,a)}return i},test:function(n,t){var o,i,e,s=0,r=Date.now();for(var a in n)o=n[a].input,e=n[a].output,i=this.activate(o),s+=t(e,i);return s/=n.length,{error:s,time:Date.now()-r}},graph:function(n,t,o){var o=o||100,i=1,e=1,s={nodes:[],links:[],constraints:[{type:"alignment",axis:"x",offsets:[]},{type:"alignment",axis:"y",offsets:[]}],main:{maxActivation:0,maxWeight:0}};for(index in this.nodes){var a=this.nodes[index],c="input"==a.type?0:"output"==a.type?1:a.squash==r.LOGISTIC?2:a.squash==r.TANH?3:a.squash==r.IDENTITY?4:a.squash==r.HLIM?5:a.squash==r.RELU?6:a.squash==r.SOFTSIGN?7:a.squash==r.SINUSOID?8:a.squash==r.GAUSSIAN?9:a.squash==r.SOFTPLUS?10:a.squash==r.BENT_IDENTITY?11:null;0==c?(s.constraints[0].offsets.push({node:index,offset:(n-o)/this.input*i}),s.constraints[1].offsets.push({node:index,offset:0}),i++):1==c&&(s.constraints[0].offsets.push({node:index,offset:(n-o)/(this.output+1)*e}),s.constraints[1].offsets.push({node:index,offset:-(t-o)/2}),e++),a.activation>s.main.maxActivation&&(s.main.maxActivation=a.activation),s.nodes.push({id:index,type:c,activation:a.activation})}for(connection in this.connections)connection=this.connections[connection],s.links.push({source:this.nodes.indexOf(connection.from),target:this.nodes.indexOf(connection.to),weight:connection.weight}),connection.weight>s.main.maxWeight&&(s.main.maxWeight=connection.weight);return s},toJSON:function(){var n={nodes:[],connections:[],input:this.input,output:this.output};for(index in this.nodes){var t=this.nodes[index].toJSON();t.index=index,n.nodes.push(t)}for(o in this.connections){var o=this.connections[o],i=o.toJSON();i.from=this.nodes.indexOf(o.from),i.to=this.nodes.indexOf(o.to),n.connections.push(i)}return n}},t.fromJSON=function(n){var o=new t(n.input,n.output);o.nodes=[],o.connections=[];for(node in n.nodes)o.nodes.push(i.fromJSON(n.nodes[node]));for(e in n.connections){var e=n.connections[e],s=o.connect(o.nodes[e.from],o.nodes[e.to])[0];s.weight=e.weight,s.ID=e.id}return o},t.merge=function(n,o){if(n=t.fromJSON(n.toJSON()),o=t.fromJSON(o.toJSON()),n.output!=o.input)throw new Error("Output size of network1 should be the same as the input size of network2!");for(conn in o.connections)if(conn=o.connections[conn],"input"==conn.from.type){var i=o.nodes.indexOf(conn.from);o.nodes[i];conn.from=n.nodes[n.nodes.length-1-i]}for(var e=n.nodes.length-1-n.output;e<n.nodes.length;e++)n.nodes[e].type="hidden";return n.connections=n.connections.concat(o.connections),n.nodes=n.nodes.concat(o.nodes),n},t.crossOver=function(n,o,i){if(n.input!=o.input||n.output!=o.output)throw new Error("Networks don't have the same input/output size!");var s=new t(n.input,n.output);s.connections=[],s.nodes=[];var r=n.score||0,a=o.score||0;if(n=t.fromJSON(n.toJSON()),o=t.fromJSON(o.toJSON()),r==a)var c=Math.max(n.nodes.length,o.nodes.length),h=Math.min(n.nodes.length,o.nodes.length),u=Math.floor(Math.random()*(c-h+1)+h);else if(r>a)var u=n.nodes.length;else var u=o.nodes.length;for(var f=0;f<u;f++)if(f<n.nodes.length&&f<o.nodes.length){var d=null;if(f>=u-n.output)for(;null==d||"output"!=d.type;)d=Math.random()>=.5?n.nodes[f]:o.nodes[f];else for(;null==d||f<u-n.output&&"output"==d.type;)d=Math.random()>=.5?n.nodes[f]:o.nodes[f];s.nodes.push(d)}else f<n.nodes.length?f>=u-n.output?s.nodes.push(n.nodes[n.nodes.length-(f-(u-n.output-1))]):s.nodes.push(n.nodes[f]):f<o.nodes.length&&(f>=u-n.output?s.nodes.push(o.nodes[o.nodes.length-(f-(u-n.output-1))]):s.nodes.push(o.nodes[f]));for(d in s.nodes){var d=s.nodes[d];d.connections={in:[],out:[],self:new e(d,d,0)}}var p={},l={};for(v in n.connections){var v=n.connections[v],g={weight:v.weight,from:n.nodes.indexOf(v.from),to:n.nodes.indexOf(v.to)};if(g.to==n.nodes.length-1){if(!(g.from<u-1))continue;g.to=u-1}var m=e.innovationID(g.from,g.to);p[m]=g}for(v in o.connections){var v=o.connections[v],g={weight:v.weight,from:o.nodes.indexOf(v.from),to:o.nodes.indexOf(v.to)};if(g.to==o.nodes.length-1){if(!(g.from<u-1))continue;g.to=u-1}var m=e.innovationID(g.from,g.to);l[m]=g}var O={};for(var m in p)m in l&&(O[m]=[p[m],l[m]],delete p[m],delete l[m]);var w=[];for(v in O){var v=Math.random()>=.5?O[v][0]:O[v][1];w.push(v)}if(r==a){for(v in p)w.push(p[v]);for(v in l)w.push(l[v])}else if(r>a)for(v in p)w.push(p[v]);else for(v in l)w.push(l[v]);for(v in w){var M=w[v];if(M.to<u){var N=s.nodes[M.from];if("output"!=N.type){var I=s.nodes[M.to],v=s.connect(N,I)[0];v.weight=M.weight}}}return s}}).call(t,o(0)(n))},function(n,t,o){(function(n){var t={LOGISTIC:function(n,o){if(!o)return 1/(1+Math.exp(-n));var i=t.LOGISTIC(n);return i*(1-i)},TANH:function(n,o){return o?1-Math.pow(t.TANH(n),2):Math.tanh(n)},IDENTITY:function(n,t){return t?1:n},HLIM:function(n,t){return t?1:n>0?1:0},RELU:function(n,t){return t?n>0?1:0:n>0?n:0},SOFTSIGN:function(n,t){var o=1+Math.abs(n);return t?n/Math.pow(o,2):n/o},SINUSOID:function(n,t){return t?Math.cos(n):Math.sin(n)},GAUSSIAN:function(n,t){var o=Math.exp(-Math.pow(n,2));return t?-2*n*o:o},SOFTPLUS:function(n,o){return o?t.LOGISTIC(n):Math.log(1+Math.exp(n))},BENT_IDENTITY:function(n,t){var o=Math.sqrt(Math.pow(n,2)+1);return t?n/(2*o)+1:(o-1)/2+n}};n&&(n.exports=t)}).call(t,o(0)(n))},function(n,t,o){(function(n){var t=o(5),i=o(1),e=o(2),s=o(4),r={Construct:function(n){var o=new t(0,0),i=[];for(item in n)if(n[item]instanceof s)for(var r in n[item].nodes)i.push(n[item].nodes[r]);else n[item]instanceof e&&i.push(n[item]);for(var r in i)i[r].connections.out.length?i[r].connections.in.length||(i[r].type="input",o.input++):(i[r].type="output",o.output++);if(0==o.input||0==o.output)throw new Error("Given nodes have no clear input/output node!");for(var r in i)for(var a in i[r].connections.out)o.connections.push(i[r].connections.out[a]);return o.nodes=i,o},Perceptron:function(){var n=Array.prototype.slice.call(arguments);if(n.length<3)throw new Error("not enough layers (minimum 3) !!");var t=[];t.push(new s(n[0]));for(var o=1;o<n.length;o++){var i=n[o],i=new s(i);t.push(i),t[o-1].connect(t[o])}return r.Construct(t)},Random:function(n,o,e,s){s=s||2;for(var r=new t(n,e),a=0;a<o;a++)r.mutate(i.Mutation.ADD_NODE);for(var a=0;a<o*s;a++)r.mutate(i.Mutation.ADD_CONN);return r},Hopfield:function(n){var o=new t(n,n);return o.learn=function(n){var t=[];for(var i in n)t.push({input:n[i],output:n[i]});return o.train(t,{iterations:5e5,error:5e-5,rate:1})},o.feed=function(n){var t=this.activate(n),n=[];for(var o in t)n[o]=t[o]>=.5?1:0;return n},o}};n&&(n.exports=r)}).call(t,o(0)(n))},function(n,t,o){(function(n){function t(n,t,o,s){this.input=n,this.output=t,this.fitness=o,s=s||{},this.equal=s.equal||!1,this.popsize=s.popsize||50,this.elitism=s.elitism||0,this.mutation=s.mutation||Object.keys(e.Mutation).map(function(n){return e.Mutation[n]}),this.selection=s.selection||Object.keys(e.Selection).map(function(n){return e.Selection[n]}),this.crossover=s.crossover||Object.keys(e.Crossover).map(function(n){return e.Crossover[n]}),this.mutationRate=s.mutationRate||.3,this.mutationAmount=s.mutationAmount||1,this.generation=0,this.createPool(s.network||new i(this.input,this.output))}n&&(n.exports=t);var i=(o(2),o(5)),e=o(1),s=(e.Activation,e.Mutation,e.Selection);e.Crossover;t.prototype={createPool:function(n){this.population=[];for(var t=0;t<this.popsize;t++){var o=i.fromJSON(n.toJSON());this.population.push(o)}},evolve:function(){this.evaluate(),this.sort();for(var n=[],t=0;t<this.elitism;t++)n.push(this.population[t]);for(var t=0;t<this.popsize-this.elitism;t++)n.push(this.getOffspring());this.population=n,this.mutate(),this.generation++},getOffspring:function(){parent1=this.getParent(),parent2=this.getParent(),1==this.equal&&(parent1.score=0,parent2.score=0);var n=this.crossover[Math.floor(Math.random()*this.crossover.length)];return i.crossOver(parent1,parent2,n)},mutate:function(){for(genome in this.population)if(Math.random()<=this.mutationRate)for(var n=0;n<this.mutationAmount;n++){var t=this.mutation[Math.floor(Math.random()*this.mutation.length)];this.population[genome].mutate(t)}},evaluate:function(){for(genome in this.population){var n=this.fitness(this.population[genome]);this.population[genome].score=n}},sort:function(){this.population.sort(function(n,t){return t.score-n.score})},getFittest:function(){return void 0===this.population[this.population.length-1].score&&this.evaluate(),this.sort(),this.population[0]},getAverage:function(){void 0===this.population[this.population.length-1].score&&this.evaluate();var n=0;for(genome in this.population)n+=this.population[genome].score;return n/this.popsize},getParent:function(){switch(this.selection[Math.floor(Math.random()*this.selection.length)]){case s.FITNESS_PROPORTIONATE:var n=Math.floor(s.FITNESS_PROPORTIONATE.config(Math.random())*this.popsize);return this.population[n]}}}}).call(t,o(0)(n))},function(n,t,o){(function(n){var t={CROSS_ENTROPY:function(n,t){var o=0;for(var i in t)o-=n[i]*Math.log(t[i]+1e-15)+(1-n[i])*Math.log(1+1e-15-t[i]);return o},MSE:function(n,t){var o=0;for(var i in t)o+=Math.pow(n[i]-t[i],2);return o/t.length},BINARY:function(n,t){var o=0;for(var i in t)o+=Math.round(2*n[i])!=Math.round(2*t[i]);return o}};n&&(n.exports=t)}).call(t,o(0)(n))},function(n,t,o){(function(n){var t={SINGLE_POINT:{name:"SINGLE_POINT",config:[.4]},TWO_POINT:{name:"TWO_POINT",config:[.4,.9]},UNIFORM:{name:"UNIFORM"},AVERAGE:{name:"AVERAGE"}};n&&(n.exports=t)}).call(t,o(0)(n))},function(n,t,o){(function(n){var t=o(6),i={ADD_NODE:{name:"ADD_NODE"},SUB_NODE:{name:"SUB_NODE"},ADD_CONN:{name:"ADD_CONN"},SUB_CONN:{name:"REMOVE_CONN"},MOD_WEIGHT:{name:"MOD_WEIGHT",config:{min:-1,max:1}},MOD_BIAS:{name:"MOD_BIAS",config:{min:-1,max:1}},MOD_ACTIVATION:{name:"MOD_ACTIVATION",config:{allowed:[t.LOGISTIC,t.TANH,t.RELU,t.IDENTITY,t.HLIM,t.SOFTSIGN,t.SINUSOID,t.GAUSSIAN,t.SOFTPLUS,t.BENT_IDENTITY]}},config:{warnings:!1}};n&&(n.exports=i)}).call(t,o(0)(n))},function(n,t,o){(function(n){var t={FITNESS_PROPORTIONATE:{name:"FITNESS_PROPORTIONATE",config:function(n){return Math.pow(n,2)}}};n&&(n.exports=t)}).call(t,o(0)(n))},function(n,t,o){var i,e,s={Node:o(2),Neat:o(8),Network:o(5),Methods:o(1),Architect:o(7),Group:o(4),Connection:o(3)};i=[],void 0!==(e=function(){return s}.apply(t,i))&&(n.exports=e),void 0!==n&&n.exports&&(n.exports=s),"object"==typeof window&&(!function(){var n=window.neataptic;s.ninja=function(){return window.neataptic=n,s}}(),window.neataptic=s)}]);